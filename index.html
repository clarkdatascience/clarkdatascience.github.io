<!doctype html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Keep thinking and writing!">
<meta property="og:type" content="website">
<meta property="og:title" content="Notes on Data Science">
<meta property="og:url" content="https://clarkdatascience.github.io/index.html">
<meta property="og:site_name" content="Notes on Data Science">
<meta property="og:description" content="Keep thinking and writing!">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Notes on Data Science">
<meta name="twitter:description" content="Keep thinking and writing!">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://clarkdatascience.github.io/"/>





  <title> Notes on Data Science </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Notes on Data Science</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-folder"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/15/Numpy-and-pandas-for-2D-data/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/15/Numpy-and-pandas-for-2D-data/" itemprop="url">
                  Numpy and pandas for 2D data
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-15T20:15:24+00:00">
                2017-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/numpy/" itemprop="url" rel="index">
                    <span itemprop="name">numpy</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/numpy/pandas/" itemprop="url" rel="index">
                    <span itemprop="name">pandas</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/numpy/pandas/Udacity/" itemprop="url" rel="index">
                    <span itemprop="name">Udacity</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/15/Numpy-and-pandas-for-2D-data/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/15/Numpy-and-pandas-for-2D-data/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> seaborn</div><div class="line">%pylab inline</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Subway ridership for 5 stations on 10 different days</span></div><div class="line">ridership = np.array([</div><div class="line">    [   <span class="number">0</span>,    <span class="number">0</span>,    <span class="number">2</span>,    <span class="number">5</span>,    <span class="number">0</span>],</div><div class="line">    [<span class="number">1478</span>, <span class="number">3877</span>, <span class="number">3674</span>, <span class="number">2328</span>, <span class="number">2539</span>],</div><div class="line">    [<span class="number">1613</span>, <span class="number">4088</span>, <span class="number">3991</span>, <span class="number">6461</span>, <span class="number">2691</span>],</div><div class="line">    [<span class="number">1560</span>, <span class="number">3392</span>, <span class="number">3826</span>, <span class="number">4787</span>, <span class="number">2613</span>],</div><div class="line">    [<span class="number">1608</span>, <span class="number">4802</span>, <span class="number">3932</span>, <span class="number">4477</span>, <span class="number">2705</span>],</div><div class="line">    [<span class="number">1576</span>, <span class="number">3933</span>, <span class="number">3909</span>, <span class="number">4979</span>, <span class="number">2685</span>],</div><div class="line">    [  <span class="number">95</span>,  <span class="number">229</span>,  <span class="number">255</span>,  <span class="number">496</span>,  <span class="number">201</span>],</div><div class="line">    [   <span class="number">2</span>,    <span class="number">0</span>,    <span class="number">1</span>,   <span class="number">27</span>,    <span class="number">0</span>],</div><div class="line">    [<span class="number">1438</span>, <span class="number">3785</span>, <span class="number">3589</span>, <span class="number">4174</span>, <span class="number">2215</span>],</div><div class="line">    [<span class="number">1342</span>, <span class="number">4043</span>, <span class="number">4009</span>, <span class="number">4665</span>, <span class="number">3033</span>]</div><div class="line">])</div></pre></td></tr></table></figure>
<pre><code>Populating the interactive namespace from numpy and matplotlib
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Accessing elements</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> ridership[<span class="number">1</span>, <span class="number">3</span>]</div><div class="line">    <span class="keyword">print</span> ridership[<span class="number">1</span>:<span class="number">3</span>, <span class="number">3</span>:<span class="number">5</span>]</div><div class="line">    <span class="keyword">print</span> ridership[<span class="number">1</span>, :]</div></pre></td></tr></table></figure>
<pre><code>2328
[[2328 2539]
 [6461 2691]]
[1478 3877 3674 2328 2539]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Vectorized operations on rows or columns</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> ridership[<span class="number">0</span>, :] + ridership[<span class="number">1</span>, :]</div><div class="line">    <span class="keyword">print</span> ridership[:, <span class="number">0</span>] + ridership[:, <span class="number">1</span>] <span class="comment">#&#x6700;&#x540E;&#x53D8;&#x6210;&#x4E00;&#x7EC4;&#x6A2A;&#x7684;&#x6570;&#x5217;</span></div></pre></td></tr></table></figure>
<pre><code>[1478 3877 3676 2333 2539]
[   0 5355 5701 4952 6410 5509  324    2 5223 5385]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Vectorized operations on entire arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</div><div class="line">    b = np.array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</div><div class="line">    <span class="keyword">print</span> a + b</div></pre></td></tr></table></figure>
<pre><code>Populating the interactive namespace from numpy and matplotlib
[[ 2  3  4]
 [ 6  7  8]
 [10 11 12]]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">mean_riders_for_max_station</span><span class="params">(ridership)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to find the station with the maximum riders on the</div><div class="line">    first day, then return the mean riders per day for that station. Also</div><div class="line">    return the mean ridership overall for comparsion.</div><div class="line"></div><div class="line">    Hint: NumPy&apos;s argmax() function might be useful:</div><div class="line">    http://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_pos = ridership[<span class="number">0</span>,:].argmax()</div><div class="line">    overall_mean =  ridership.mean()</div><div class="line">    mean_for_max = ridership[:, max_pos].mean()</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (overall_mean, mean_for_max)</div><div class="line"></div><div class="line"><span class="keyword">print</span> mean_riders_for_max_station(ridership)</div></pre></td></tr></table></figure>
<pre><code>(2342.5999999999999, 3239.9000000000001)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># NumPy axis argument</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([</div><div class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</div><div class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</div><div class="line">        [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</div><div class="line">    ])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a.sum()</div><div class="line">    <span class="keyword">print</span> a.sum(axis=<span class="number">0</span>) <span class="comment">#&#x7EB5;&#x8F74;&#x76F8;&#x52A0;</span></div><div class="line">    <span class="keyword">print</span> a.sum(axis=<span class="number">1</span>) <span class="comment">#&#x6A2A;&#x8F74;&#x76F8;&#x52A0;</span></div></pre></td></tr></table></figure>
<pre><code>45
[12 15 18]
[ 6 15 24]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">min_and_max_riders_per_day</span><span class="params">(ridership)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function. First, for each subway station, calculate the</div><div class="line">    mean ridership per day. Then, out of all the subway stations, return the</div><div class="line">    maximum and minimum of these values. That is, find the maximum</div><div class="line">    mean-ridership-per-day and the minimum mean-ridership-per-day for any</div><div class="line">    subway station.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    mean_ridership_per_station = ridership.mean(axis=<span class="number">0</span>)</div><div class="line">    max_daily_ridership = mean_ridership_per_station.max()</div><div class="line">    min_daily_ridership = mean_ridership_per_station.min()  </div><div class="line"></div><div class="line">    <span class="keyword">return</span> (max_daily_ridership, min_daily_ridership)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">min_and_max_riders_per_day(ridership)</div></pre></td></tr></table></figure>
<pre><code>(3239.9000000000001, 1071.2)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"><span class="comment"># Subway ridership for 5 stations on 10 different days</span></div><div class="line">ridership_df = pd.DataFrame(</div><div class="line">    data=[[   <span class="number">0</span>,    <span class="number">0</span>,    <span class="number">2</span>,    <span class="number">5</span>,    <span class="number">0</span>],</div><div class="line">          [<span class="number">1478</span>, <span class="number">3877</span>, <span class="number">3674</span>, <span class="number">2328</span>, <span class="number">2539</span>],</div><div class="line">          [<span class="number">1613</span>, <span class="number">4088</span>, <span class="number">3991</span>, <span class="number">6461</span>, <span class="number">2691</span>],</div><div class="line">          [<span class="number">1560</span>, <span class="number">3392</span>, <span class="number">3826</span>, <span class="number">4787</span>, <span class="number">2613</span>],</div><div class="line">          [<span class="number">1608</span>, <span class="number">4802</span>, <span class="number">3932</span>, <span class="number">4477</span>, <span class="number">2705</span>],</div><div class="line">          [<span class="number">1576</span>, <span class="number">3933</span>, <span class="number">3909</span>, <span class="number">4979</span>, <span class="number">2685</span>],</div><div class="line">          [  <span class="number">95</span>,  <span class="number">229</span>,  <span class="number">255</span>,  <span class="number">496</span>,  <span class="number">201</span>],</div><div class="line">          [   <span class="number">2</span>,    <span class="number">0</span>,    <span class="number">1</span>,   <span class="number">27</span>,    <span class="number">0</span>],</div><div class="line">          [<span class="number">1438</span>, <span class="number">3785</span>, <span class="number">3589</span>, <span class="number">4174</span>, <span class="number">2215</span>],</div><div class="line">          [<span class="number">1342</span>, <span class="number">4043</span>, <span class="number">4009</span>, <span class="number">4665</span>, <span class="number">3033</span>]],</div><div class="line">    index=[<span class="string">&apos;05-01-11&apos;</span>, <span class="string">&apos;05-02-11&apos;</span>, <span class="string">&apos;05-03-11&apos;</span>, <span class="string">&apos;05-04-11&apos;</span>, <span class="string">&apos;05-05-11&apos;</span>,</div><div class="line">           <span class="string">&apos;05-06-11&apos;</span>, <span class="string">&apos;05-07-11&apos;</span>, <span class="string">&apos;05-08-11&apos;</span>, <span class="string">&apos;05-09-11&apos;</span>, <span class="string">&apos;05-10-11&apos;</span>],</div><div class="line">    columns=[<span class="string">&apos;R003&apos;</span>, <span class="string">&apos;R004&apos;</span>, <span class="string">&apos;R005&apos;</span>, <span class="string">&apos;R006&apos;</span>, <span class="string">&apos;R007&apos;</span>]</div><div class="line">)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ridership_df.mean()</div></pre></td></tr></table></figure>
<pre><code>R003    1071.2
R004    2814.9
R005    2718.8
R006    3239.9
R007    1868.2
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ridership_df.values.mean()  <span class="comment">#!!!&#x6CE8;&#x610F;&#x4E86;&#xFF01;&#x8FD9;&#x91CC;&#x7684;values&#x540E;&#x9762;&#x662F;&#x6CA1;&#x6709;&#xFF08;&#xFF09;&#x7684;&#xFF01;&#xFF01;&#xFF01;&#x6240;&#x6709;&#x7684;&#x52A0;&#x8D77;&#x6765; &#x5176;&#x5B9E;&#x5C31;&#x662F;ridership_df.mean().mean()</span></div></pre></td></tr></table></figure>
<pre><code>2342.5999999999999
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Change False to True for each block of code to see what it does</span></div><div class="line"></div><div class="line"><span class="comment"># DataFrame creation</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="comment"># You can create a DataFrame out of a dictionary mapping column names to values</span></div><div class="line">    df_1 = pd.DataFrame({<span class="string">&apos;A&apos;</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], <span class="string">&apos;B&apos;</span>: [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]})</div><div class="line">    <span class="keyword">print</span> df_1</div><div class="line"></div><div class="line">    <span class="comment"># You can also use a list of lists or a 2D NumPy array</span></div><div class="line">    df_2 = pd.DataFrame([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]], columns=[<span class="string">&apos;A&apos;</span>, <span class="string">&apos;B&apos;</span>, <span class="string">&apos;C&apos;</span>])</div><div class="line">    <span class="keyword">print</span> df_2</div></pre></td></tr></table></figure>
<pre><code>   A  B
0  0  3
1  1  4
2  2  5
   A  B  C
0  0  1  2
1  3  4  5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ridership_df</div></pre></td></tr></table></figure>
<div><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>R003</th><br>      <th>R004</th><br>      <th>R005</th><br>      <th>R006</th><br>      <th>R007</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>05-01-11</th><br>      <td>0</td><br>      <td>0</td><br>      <td>2</td><br>      <td>5</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>05-02-11</th><br>      <td>1478</td><br>      <td>3877</td><br>      <td>3674</td><br>      <td>2328</td><br>      <td>2539</td><br>    </tr><br>    <tr><br>      <th>05-03-11</th><br>      <td>1613</td><br>      <td>4088</td><br>      <td>3991</td><br>      <td>6461</td><br>      <td>2691</td><br>    </tr><br>    <tr><br>      <th>05-04-11</th><br>      <td>1560</td><br>      <td>3392</td><br>      <td>3826</td><br>      <td>4787</td><br>      <td>2613</td><br>    </tr><br>    <tr><br>      <th>05-05-11</th><br>      <td>1608</td><br>      <td>4802</td><br>      <td>3932</td><br>      <td>4477</td><br>      <td>2705</td><br>    </tr><br>    <tr><br>      <th>05-06-11</th><br>      <td>1576</td><br>      <td>3933</td><br>      <td>3909</td><br>      <td>4979</td><br>      <td>2685</td><br>    </tr><br>    <tr><br>      <th>05-07-11</th><br>      <td>95</td><br>      <td>229</td><br>      <td>255</td><br>      <td>496</td><br>      <td>201</td><br>    </tr><br>    <tr><br>      <th>05-08-11</th><br>      <td>2</td><br>      <td>0</td><br>      <td>1</td><br>      <td>27</td><br>      <td>0</td><br>    </tr><br>    <tr><br>      <th>05-09-11</th><br>      <td>1438</td><br>      <td>3785</td><br>      <td>3589</td><br>      <td>4174</td><br>      <td>2215</td><br>    </tr><br>    <tr><br>      <th>05-10-11</th><br>      <td>1342</td><br>      <td>4043</td><br>      <td>4009</td><br>      <td>4665</td><br>      <td>3033</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Accessing elements</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> ridership_df.iloc[<span class="number">0</span>] <span class="comment">#iol&#x6307;&#x5B9A;&#x76F8;&#x5E94;&#x7684;row</span></div><div class="line">    <span class="keyword">print</span> ridership_df.loc[<span class="string">&apos;05-05-11&apos;</span>] <span class="comment">#&#x6307;&#x5B9A;&#x76F8;&#x5E94;&#x7684;row&#xFF0C;&#x7D22;&#x5F15;&#x7684;&#x662F;&#x5B57;&#x7B26;&#x884C;</span></div><div class="line">    <span class="keyword">print</span> ridership_df[<span class="string">&apos;R003&apos;</span>]</div><div class="line">    <span class="keyword">print</span> ridership_df.iloc[<span class="number">1</span>, <span class="number">3</span>] <span class="comment">#row, column</span></div></pre></td></tr></table></figure>
<pre><code>R003    0
R004    0
R005    2
R006    5
R007    0
Name: 05-01-11, dtype: int64
R003    1608
R004    4802
R005    3932
R006    4477
R007    2705
Name: 05-05-11, dtype: int64
05-01-11       0
05-02-11    1478
05-03-11    1613
05-04-11    1560
05-05-11    1608
05-06-11    1576
05-07-11      95
05-08-11       2
05-09-11    1438
05-10-11    1342
Name: R003, dtype: int64
2328
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Accessing multiple rows</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> ridership_df.iloc[<span class="number">1</span>:<span class="number">4</span>]</div><div class="line"></div><div class="line"><span class="comment"># Accessing multiple columns</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> ridership_df[[<span class="string">&apos;R003&apos;</span>, <span class="string">&apos;R005&apos;</span>]]</div></pre></td></tr></table></figure>
<pre><code>          R003  R004  R005  R006  R007
05-02-11  1478  3877  3674  2328  2539
05-03-11  1613  4088  3991  6461  2691
05-04-11  1560  3392  3826  4787  2613
          R003  R005
05-01-11     0     2
05-02-11  1478  3674
05-03-11  1613  3991
05-04-11  1560  3826
05-05-11  1608  3932
05-06-11  1576  3909
05-07-11    95   255
05-08-11     2     1
05-09-11  1438  3589
05-10-11  1342  4009
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Pandas axis</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    df = pd.DataFrame({<span class="string">&apos;A&apos;</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], <span class="string">&apos;B&apos;</span>: [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]})</div><div class="line"></div><div class="line">df</div></pre></td></tr></table></figure>
<div><br><table border="1" class="dataframe"><br>  <thead><br>    <tr style="text-align: right;"><br>      <th></th><br>      <th>A</th><br>      <th>B</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <th>0</th><br>      <td>0</td><br>      <td>3</td><br>    </tr><br>    <tr><br>      <th>1</th><br>      <td>1</td><br>      <td>4</td><br>    </tr><br>    <tr><br>      <th>2</th><br>      <td>2</td><br>      <td>5</td><br>    </tr><br>  </tbody><br></table><br></div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Pandas axis</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    df = pd.DataFrame({<span class="string">&apos;A&apos;</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], <span class="string">&apos;B&apos;</span>: [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]})</div><div class="line">    <span class="keyword">print</span> df.sum() <span class="comment">#&#x9ED8;&#x8BA4;&#x662F;axis=0&#xFF0C;&#x6309;&#x7167;column&#x6765;&#x7EDF;&#x8BA1;&#xFF0C;&#x7EB5;&#x5411;&#x6C42;&#x548C;</span></div><div class="line">    <span class="keyword">print</span> df.sum(axis=<span class="number">1</span>) <span class="comment">#&#x6A2A;&#x7EBF;&#x6C42;&#x548C;</span></div><div class="line">    <span class="keyword">print</span> df.values.sum()<span class="comment">#&#x6240;&#x6709;cell&#x4E00;&#x8D77;&#x6C42;&#x548C;</span></div></pre></td></tr></table></figure>
<pre><code>A     3
B    12
dtype: int64
0    3
1    5
2    7
dtype: int64
15
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">mean_riders_for_max_station</span><span class="params">(ridership)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to find the station with the maximum riders on the</div><div class="line">    first day, then return the mean riders per day for that station. Also</div><div class="line">    return the mean ridership overall for comparsion.</div><div class="line"></div><div class="line">    This is the same as a previous exercise, but this time the</div><div class="line">    input is a Pandas DataFrame rather than a 2D NumPy array.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    overall_mean = ridership.values.mean()</div><div class="line">    mean_for_max = ridership[ridership.iloc[<span class="number">0</span>].argmax()].mean()</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (overall_mean, mean_for_max)</div><div class="line"></div><div class="line"><span class="keyword">print</span> (mean_riders_for_max_station(ridership_df)</div></pre></td></tr></table></figure>
<pre><code>  File &quot;&lt;ipython-input-36-81a2a5aaefcc&gt;&quot;, line 15
    print (mean_riders_for_max_station(ridership_df)
                                                    ^
SyntaxError: invalid syntax
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/15/Numpy-and-pandas-for-1D-data/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/15/Numpy-and-pandas-for-1D-data/" itemprop="url">
                  Numpy and pandas for data
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-15T20:11:04+00:00">
                2017-01-15
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/15/Numpy-and-pandas-for-1D-data/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/15/Numpy-and-pandas-for-1D-data/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="&#x5BFC;&#x5165;numpy&#x5E93;"><a href="#&#x5BFC;&#x5165;numpy&#x5E93;" class="headerlink" title="&#x5BFC;&#x5165;numpy&#x5E93;"></a>&#x5BFC;&#x5165;numpy&#x5E93;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"></div><div class="line"><span class="comment"># First 20 countries with employment data</span></div><div class="line">countries = np.array([</div><div class="line">    <span class="string">&apos;Afghanistan&apos;</span>, <span class="string">&apos;Albania&apos;</span>, <span class="string">&apos;Algeria&apos;</span>, <span class="string">&apos;Angola&apos;</span>, <span class="string">&apos;Argentina&apos;</span>,</div><div class="line">    <span class="string">&apos;Armenia&apos;</span>, <span class="string">&apos;Australia&apos;</span>, <span class="string">&apos;Austria&apos;</span>, <span class="string">&apos;Azerbaijan&apos;</span>, <span class="string">&apos;Bahamas&apos;</span>,</div><div class="line">    <span class="string">&apos;Bahrain&apos;</span>, <span class="string">&apos;Bangladesh&apos;</span>, <span class="string">&apos;Barbados&apos;</span>, <span class="string">&apos;Belarus&apos;</span>, <span class="string">&apos;Belgium&apos;</span>,</div><div class="line">    <span class="string">&apos;Belize&apos;</span>, <span class="string">&apos;Benin&apos;</span>, <span class="string">&apos;Bhutan&apos;</span>, <span class="string">&apos;Bolivia&apos;</span>,</div><div class="line">    <span class="string">&apos;Bosnia and Herzegovina&apos;</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="comment"># Employment data in 2007 for those 20 countries</span></div><div class="line">employment = np.array([</div><div class="line">    <span class="number">55.70000076</span>,  <span class="number">51.40000153</span>,  <span class="number">50.5</span>       ,  <span class="number">75.69999695</span>,</div><div class="line">    <span class="number">58.40000153</span>,  <span class="number">40.09999847</span>,  <span class="number">61.5</span>       ,  <span class="number">57.09999847</span>,</div><div class="line">    <span class="number">60.90000153</span>,  <span class="number">66.59999847</span>,  <span class="number">60.40000153</span>,  <span class="number">68.09999847</span>,</div><div class="line">    <span class="number">66.90000153</span>,  <span class="number">53.40000153</span>,  <span class="number">48.59999847</span>,  <span class="number">56.79999924</span>,</div><div class="line">    <span class="number">71.59999847</span>,  <span class="number">58.40000153</span>,  <span class="number">70.40000153</span>,  <span class="number">41.20000076</span></div><div class="line">])</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_employment</span><span class="params">(countries, employment)</span>:</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(employment)):</div><div class="line">        <span class="keyword">if</span> employment[i] == employment.max():</div><div class="line">            max_country = countries[i]</div><div class="line">            max_value = employment.max()</div><div class="line">    <span class="keyword">return</span> (max_country, max_value)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> max_employment(countries, employment)</div></pre></td></tr></table></figure>
<pre><code>(&apos;Angola&apos;, 75.699996949999999)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_employment2</span><span class="params">(countries, employment)</span>:</span></div><div class="line">    i = employment.argmax()</div><div class="line">    <span class="keyword">return</span> (countries[i], employment[i])</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span>  max_employment2(countries, employment)</div></pre></td></tr></table></figure>
<pre><code>(&apos;Angola&apos;, 75.699996949999999)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Accessing elements</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> countries[<span class="number">0</span>]</div><div class="line">    <span class="keyword">print</span> countries[<span class="number">3</span>]</div></pre></td></tr></table></figure>
<pre><code>Afghanistan
Angola
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Slicing</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> countries[<span class="number">0</span>:<span class="number">3</span>] <span class="comment">#[3]&#x662F;&#x4E0D;&#x5305;&#x62EC;&#x7684;&#xFF0C;python&#x7684;&#x5E38;&#x8BC6;&#xFF0C;&#x8BB0;&#x4F4F;&#x4E86;</span></div><div class="line">    <span class="keyword">print</span> countries[:<span class="number">3</span>]</div><div class="line">    <span class="keyword">print</span> countries[<span class="number">17</span>:]</div><div class="line">    <span class="keyword">print</span> countries[:]</div></pre></td></tr></table></figure>
<pre><code>[&apos;Afghanistan&apos; &apos;Albania&apos; &apos;Algeria&apos;]
[&apos;Afghanistan&apos; &apos;Albania&apos; &apos;Algeria&apos;]
[&apos;Bhutan&apos; &apos;Bolivia&apos; &apos;Bosnia and Herzegovina&apos;]
[&apos;Afghanistan&apos; &apos;Albania&apos; &apos;Algeria&apos; &apos;Angola&apos; &apos;Argentina&apos; &apos;Armenia&apos;
 &apos;Australia&apos; &apos;Austria&apos; &apos;Azerbaijan&apos; &apos;Bahamas&apos; &apos;Bahrain&apos; &apos;Bangladesh&apos;
 &apos;Barbados&apos; &apos;Belarus&apos; &apos;Belgium&apos; &apos;Belize&apos; &apos;Benin&apos; &apos;Bhutan&apos; &apos;Bolivia&apos;
 &apos;Bosnia and Herzegovina&apos;]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Element types</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> countries.dtype</div><div class="line">    <span class="keyword">print</span> employment.dtype</div><div class="line">    <span class="keyword">print</span> np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]).dtype</div><div class="line">    <span class="keyword">print</span> np.array([<span class="number">1.0</span>, <span class="number">1.5</span>, <span class="number">2.0</span>, <span class="number">2.5</span>]).dtype</div><div class="line">    <span class="keyword">print</span> np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]).dtype</div><div class="line">    <span class="keyword">print</span> np.array([<span class="string">&apos;AL&apos;</span>, <span class="string">&apos;AK&apos;</span>, <span class="string">&apos;AZ&apos;</span>, <span class="string">&apos;AR&apos;</span>, <span class="string">&apos;CA&apos;</span>]).dtype</div></pre></td></tr></table></figure>
<pre><code>|S22
float64
int32
float64
bool
|S2
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Looping</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">for</span> country <span class="keyword">in</span> countries:</div><div class="line">        <span class="keyword">print</span> <span class="string">&apos;Examining country {}&apos;</span>.format(country)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(countries)):</div><div class="line">        country = countries[i]</div><div class="line">        country_employment = employment[i]</div><div class="line">        <span class="keyword">print</span> <span class="string">&apos;Country {} has employment {}&apos;</span>.format(country,</div><div class="line">                country_employment)</div></pre></td></tr></table></figure>
<pre><code>Examining country Afghanistan
Examining country Albania
Examining country Algeria
Examining country Angola
Examining country Argentina
Examining country Armenia
Examining country Australia
Examining country Austria
Examining country Azerbaijan
Examining country Bahamas
Examining country Bahrain
Examining country Bangladesh
Examining country Barbados
Examining country Belarus
Examining country Belgium
Examining country Belize
Examining country Benin
Examining country Bhutan
Examining country Bolivia
Examining country Bosnia and Herzegovina
Country Afghanistan has employment 55.70000076
Country Albania has employment 51.40000153
Country Algeria has employment 50.5
Country Angola has employment 75.69999695
Country Argentina has employment 58.40000153
Country Armenia has employment 40.09999847
Country Australia has employment 61.5
Country Austria has employment 57.09999847
Country Azerbaijan has employment 60.90000153
Country Bahamas has employment 66.59999847
Country Bahrain has employment 60.40000153
Country Bangladesh has employment 68.09999847
Country Barbados has employment 66.90000153
Country Belarus has employment 53.40000153
Country Belgium has employment 48.59999847
Country Belize has employment 56.79999924
Country Benin has employment 71.59999847
Country Bhutan has employment 58.40000153
Country Bolivia has employment 70.40000153
Country Bosnia and Herzegovina has employment 41.20000076
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Numpy functions</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> employment.mean()</div><div class="line">    <span class="keyword">print</span> employment.std()</div><div class="line">    <span class="keyword">print</span> employment.max()</div><div class="line">    <span class="keyword">print</span> employment.sum()</div></pre></td></tr></table></figure>
<pre><code>58.6850000385
9.33826911369
75.69999695
1173.70000077
</code></pre><h1 id="&#x5404;&#x79CD;&#x6570;&#x7406;&#x8FD0;&#x7B97;"><a href="#&#x5404;&#x79CD;&#x6570;&#x7406;&#x8FD0;&#x7B97;" class="headerlink" title="&#x5404;&#x79CD;&#x6570;&#x7406;&#x8FD0;&#x7B97;"></a>&#x5404;&#x79CD;&#x6570;&#x7406;&#x8FD0;&#x7B97;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Arithmetic operations between 2 NumPy arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">    b = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a + b</div><div class="line">    <span class="keyword">print</span> a - b</div><div class="line">    <span class="keyword">print</span> a * b</div><div class="line">    <span class="keyword">print</span> a / b</div><div class="line">    <span class="keyword">print</span> a ** b</div></pre></td></tr></table></figure>
<pre><code>[2 4 4 6]
[0 0 2 2]
[1 4 3 8]
[1 1 3 2]
[ 1  4  3 16]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">    b = <span class="number">2</span></div><div class="line"></div><div class="line">    <span class="keyword">print</span> a + b</div><div class="line">    <span class="keyword">print</span> a - b</div><div class="line">    <span class="keyword">print</span> a * b</div><div class="line">    <span class="keyword">print</span> a / b</div><div class="line">    <span class="keyword">print</span> a ** b</div></pre></td></tr></table></figure>
<pre><code>[3 4 5 6]
[-1  0  1  2]
[2 4 6 8]
[0 1 1 2]
[ 1  4  9 16]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Logical operations with NumPy arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">False</span>])</div><div class="line">    b = np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a &amp; b</div><div class="line">    <span class="keyword">print</span> a | b</div><div class="line">    <span class="keyword">print</span> ~a</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a &amp; <span class="keyword">True</span></div><div class="line">    <span class="keyword">print</span> a &amp; <span class="keyword">False</span></div><div class="line"></div><div class="line">    <span class="keyword">print</span> a | <span class="keyword">True</span></div><div class="line">    <span class="keyword">print</span> a | <span class="keyword">False</span> <span class="comment">#&#x6216;</span></div></pre></td></tr></table></figure>
<pre><code>[ True False False False]
[ True  True  True False]
[False False  True  True]
[ True  True False False]
[False False False False]
[ True  True  True  True]
[ True  True False False]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Comparison operations between 2 NumPy Arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</div><div class="line">    b = np.array([<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a &gt; b</div><div class="line">    <span class="keyword">print</span> a &gt;= b</div><div class="line">    <span class="keyword">print</span> a &lt; b</div><div class="line">    <span class="keyword">print</span> a &lt;= b</div><div class="line">    <span class="keyword">print</span> a == b</div><div class="line">    <span class="keyword">print</span> a != b</div></pre></td></tr></table></figure>
<pre><code>[False False False  True  True]
[False False  True  True  True]
[ True  True False False False]
[ True  True  True False False]
[False False  True False False]
[ True  True False  True  True]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Comparison operations between a NumPy array and a single number</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">    b = <span class="number">2</span></div><div class="line"></div><div class="line">    <span class="keyword">print</span> a &gt; b</div><div class="line">    <span class="keyword">print</span> a &gt;= b</div><div class="line">    <span class="keyword">print</span> a &lt; b</div><div class="line">    <span class="keyword">print</span> a &lt;= b</div><div class="line">    <span class="keyword">print</span> a == b</div><div class="line">    <span class="keyword">print</span> a != b</div></pre></td></tr></table></figure>
<pre><code>[False False  True  True]
[False  True  True  True]
[ True False False False]
[ True  True False False]
[False  True False False]
[ True False  True  True]
</code></pre><h1 id="&#x51FD;&#x6570;&#x7684;&#x5E94;&#x7528;"><a href="#&#x51FD;&#x6570;&#x7684;&#x5E94;&#x7528;" class="headerlink" title="&#x51FD;&#x6570;&#x7684;&#x5E94;&#x7528;"></a>&#x51FD;&#x6570;&#x7684;&#x5E94;&#x7528;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># First 20 countries with school completion data</span></div><div class="line">countries = np.array([</div><div class="line">       <span class="string">&apos;Algeria&apos;</span>, <span class="string">&apos;Argentina&apos;</span>, <span class="string">&apos;Armenia&apos;</span>, <span class="string">&apos;Aruba&apos;</span>, <span class="string">&apos;Austria&apos;</span>,<span class="string">&apos;Azerbaijan&apos;</span>,</div><div class="line">       <span class="string">&apos;Bahamas&apos;</span>, <span class="string">&apos;Barbados&apos;</span>, <span class="string">&apos;Belarus&apos;</span>, <span class="string">&apos;Belgium&apos;</span>, <span class="string">&apos;Belize&apos;</span>, <span class="string">&apos;Bolivia&apos;</span>,</div><div class="line">       <span class="string">&apos;Botswana&apos;</span>, <span class="string">&apos;Brunei&apos;</span>, <span class="string">&apos;Bulgaria&apos;</span>, <span class="string">&apos;Burkina Faso&apos;</span>, <span class="string">&apos;Burundi&apos;</span>,</div><div class="line">       <span class="string">&apos;Cambodia&apos;</span>, <span class="string">&apos;Cameroon&apos;</span>, <span class="string">&apos;Cape Verde&apos;</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="comment"># Female school completion rate in 2007 for those 20 countries</span></div><div class="line">female_completion = np.array([</div><div class="line">    <span class="number">97.35583</span>,  <span class="number">104.62379</span>,  <span class="number">103.02998</span>,   <span class="number">95.14321</span>,  <span class="number">103.69019</span>,</div><div class="line">    <span class="number">98.49185</span>,  <span class="number">100.88828</span>,   <span class="number">95.43974</span>,   <span class="number">92.11484</span>,   <span class="number">91.54804</span>,</div><div class="line">    <span class="number">95.98029</span>,   <span class="number">98.22902</span>,   <span class="number">96.12179</span>,  <span class="number">119.28105</span>,   <span class="number">97.84627</span>,</div><div class="line">    <span class="number">29.07386</span>,   <span class="number">38.41644</span>,   <span class="number">90.70509</span>,   <span class="number">51.7478</span> ,   <span class="number">95.45072</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="comment"># Male school completion rate in 2007 for those 20 countries</span></div><div class="line">male_completion = np.array([</div><div class="line">     <span class="number">95.47622</span>,  <span class="number">100.66476</span>,   <span class="number">99.7926</span> ,   <span class="number">91.48936</span>,  <span class="number">103.22096</span>,</div><div class="line">     <span class="number">97.80458</span>,  <span class="number">103.81398</span>,   <span class="number">88.11736</span>,   <span class="number">93.55611</span>,   <span class="number">87.76347</span>,</div><div class="line">    <span class="number">102.45714</span>,   <span class="number">98.73953</span>,   <span class="number">92.22388</span>,  <span class="number">115.3892</span> ,   <span class="number">98.70502</span>,</div><div class="line">     <span class="number">37.00692</span>,   <span class="number">45.39401</span>,   <span class="number">91.22084</span>,   <span class="number">62.42028</span>,   <span class="number">90.66958</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">overall_completion_rate</span><span class="params">(female_completion, male_completion)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to return a NumPy array containing the overall</div><div class="line">    school completion rate for each country. The arguments are NumPy</div><div class="line">    arrays giving the female and male completion of each country in</div><div class="line">    the same order.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    overall_rate = <span class="number">0.5</span> * female_completion + <span class="number">0.5</span> * male_completion</div><div class="line">    <span class="keyword">return</span> overall_rate</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> overall_completion_rate(female_completion, male_completion)</div></pre></td></tr></table></figure>
<pre><code>[  96.416025  102.644275  101.41129    93.316285  103.455575   98.148215
  102.35113    91.77855    92.835475   89.655755   99.218715   98.484275
   94.172835  117.335125   98.275645   33.04039    41.905225   90.962965
   57.08404    93.06015 ]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># First 20 countries with employment data</span></div><div class="line">countries = np.array([</div><div class="line">    <span class="string">&apos;Afghanistan&apos;</span>, <span class="string">&apos;Albania&apos;</span>, <span class="string">&apos;Algeria&apos;</span>, <span class="string">&apos;Angola&apos;</span>, <span class="string">&apos;Argentina&apos;</span>,</div><div class="line">    <span class="string">&apos;Armenia&apos;</span>, <span class="string">&apos;Australia&apos;</span>, <span class="string">&apos;Austria&apos;</span>, <span class="string">&apos;Azerbaijan&apos;</span>, <span class="string">&apos;Bahamas&apos;</span>,</div><div class="line">    <span class="string">&apos;Bahrain&apos;</span>, <span class="string">&apos;Bangladesh&apos;</span>, <span class="string">&apos;Barbados&apos;</span>, <span class="string">&apos;Belarus&apos;</span>, <span class="string">&apos;Belgium&apos;</span>,</div><div class="line">    <span class="string">&apos;Belize&apos;</span>, <span class="string">&apos;Benin&apos;</span>, <span class="string">&apos;Bhutan&apos;</span>, <span class="string">&apos;Bolivia&apos;</span>,</div><div class="line">    <span class="string">&apos;Bosnia and Herzegovina&apos;</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="comment"># Employment data in 2007 for those 20 countries</span></div><div class="line">employment = np.array([</div><div class="line">    <span class="number">55.70000076</span>,  <span class="number">51.40000153</span>,  <span class="number">50.5</span>       ,  <span class="number">75.69999695</span>,</div><div class="line">    <span class="number">58.40000153</span>,  <span class="number">40.09999847</span>,  <span class="number">61.5</span>       ,  <span class="number">57.09999847</span>,</div><div class="line">    <span class="number">60.90000153</span>,  <span class="number">66.59999847</span>,  <span class="number">60.40000153</span>,  <span class="number">68.09999847</span>,</div><div class="line">    <span class="number">66.90000153</span>,  <span class="number">53.40000153</span>,  <span class="number">48.59999847</span>,  <span class="number">56.79999924</span>,</div><div class="line">    <span class="number">71.59999847</span>,  <span class="number">58.40000153</span>,  <span class="number">70.40000153</span>,  <span class="number">41.20000076</span></div><div class="line">])</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Change this country name to change what country will be printed when you</span></div><div class="line"><span class="comment"># click &quot;Test Run&quot;. Your function will be called to determine the standardized</span></div><div class="line"><span class="comment"># score for this country for each of the given 5 Gapminder variables in 2007.</span></div><div class="line"><span class="comment"># The possible country names are available in the Downloadables section.</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">standardize_data</span><span class="params">(values)</span>:</span></div><div class="line">    <span class="keyword">return</span> (values-values.mean()) /values.std()</div><div class="line"></div><div class="line"></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to return a standardized version of the given values,</div><div class="line">    which will be in a NumPy array. Each value should be translated into the</div><div class="line">    number of standard deviations that value is away from the mean of the data.</div><div class="line">    (A positive number indicates a value higher than the mean, and a negative</div><div class="line">    number indicates a value lower than the mean.)</div><div class="line">     &apos;&apos;&apos;</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> standardize_data(employment)</div></pre></td></tr></table></figure>
<pre><code>[-0.31965231 -0.780123   -0.87650077  1.82207181 -0.03051941 -1.99019768
  0.30144772 -0.16973184  0.23719615  0.84758731  0.18365304  1.00821665
  0.87971351 -0.56595055 -1.07996476 -0.20185762  1.38301845 -0.03051941
  1.2545153  -1.87240259]
</code></pre><h1 id="&#x7528;index&#x7279;&#x6027;&#x548C;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x6765;&#x5904;&#x7406;arrays"><a href="#&#x7528;index&#x7279;&#x6027;&#x548C;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x6765;&#x5904;&#x7406;arrays" class="headerlink" title="&#x7528;index&#x7279;&#x6027;&#x548C;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x6765;&#x5904;&#x7406;arrays"></a>&#x7528;index&#x7279;&#x6027;&#x548C;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x6765;&#x5904;&#x7406;arrays</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Using index arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">    b = np.array([<span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">False</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a[b]</div><div class="line">    <span class="keyword">print</span> a[np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>])]</div></pre></td></tr></table></figure>
<pre><code>[1 2]
[1 3]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Creating the index array using vectorized operations</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</div><div class="line">    b = (a &gt;= <span class="number">2</span>)</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a[b]</div><div class="line">    <span class="keyword">print</span> a[a &gt;= <span class="number">2</span>]</div></pre></td></tr></table></figure>
<pre><code>[2 3 2]
[2 3 2]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Creating the index array using vectorized operations on another array</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</div><div class="line">    b = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> b == <span class="number">2</span></div><div class="line">    <span class="keyword">print</span> a[b == <span class="number">2</span>]</div></pre></td></tr></table></figure>
<pre><code>[False  True False  True False]
[2 4]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">mean_time_for_paid_students</span><span class="params">(time_spent, days_to_cancel)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to calculate the mean time spent in the classroom</div><div class="line">    for students who stayed enrolled at least (greater than or equal to) 7 days.</div><div class="line">    Unlike in Lesson 1, you can assume that days_to_cancel will contain only</div><div class="line">    integers (there are no students who have not canceled yet).</div><div class="line"></div><div class="line">    The arguments are NumPy arrays. time_spent contains the amount of time spent</div><div class="line">    in the classroom for each student, and days_to_cancel contains the number</div><div class="line">    of days until each student cancel. The data is given in the same order</div><div class="line">    in both arrays.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    <span class="keyword">return</span> time_spent[days_to_cancel&gt;=<span class="number">7</span>].mean()</div><div class="line"></div><div class="line"><span class="comment"># Time spent in the classroom in the first week for 20 students</span></div><div class="line">time_spent = np.array([</div><div class="line">       <span class="number">12.89697233</span>,    <span class="number">0.</span>        ,   <span class="number">64.55043217</span>,    <span class="number">0.</span>        ,</div><div class="line">       <span class="number">24.2315615</span> ,   <span class="number">39.991625</span>  ,    <span class="number">0.</span>        ,    <span class="number">0.</span>        ,</div><div class="line">      <span class="number">147.20683783</span>,    <span class="number">0.</span>        ,    <span class="number">0.</span>        ,    <span class="number">0.</span>        ,</div><div class="line">       <span class="number">45.18261617</span>,  <span class="number">157.60454283</span>,  <span class="number">133.2434615</span> ,   <span class="number">52.85000767</span>,</div><div class="line">        <span class="number">0.</span>        ,   <span class="number">54.9204785</span> ,   <span class="number">26.78142417</span>,    <span class="number">0.</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="comment"># Days to cancel for 20 students</span></div><div class="line">days_to_cancel = np.array([</div><div class="line">      <span class="number">4</span>,   <span class="number">5</span>,  <span class="number">37</span>,   <span class="number">3</span>,  <span class="number">12</span>,   <span class="number">4</span>,  <span class="number">35</span>,  <span class="number">38</span>,   <span class="number">5</span>,  <span class="number">37</span>,   <span class="number">3</span>,   <span class="number">3</span>,  <span class="number">68</span>,</div><div class="line">     <span class="number">38</span>,  <span class="number">98</span>,   <span class="number">2</span>, <span class="number">249</span>,   <span class="number">2</span>, <span class="number">127</span>,  <span class="number">35</span></div><div class="line">])</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">print</span> mean_time_for_paid_students(time_spent, days_to_cancel)</div></pre></td></tr></table></figure>
<pre><code>41.0540034855
</code></pre><h1 id="numpy&#x6570;&#x7EC4;&#x4E92;&#x76F8;&#x7684;&#x8FD0;&#x7B97;"><a href="#numpy&#x6570;&#x7EC4;&#x4E92;&#x76F8;&#x7684;&#x8FD0;&#x7B97;" class="headerlink" title="numpy&#x6570;&#x7EC4;&#x4E92;&#x76F8;&#x7684;&#x8FD0;&#x7B97;"></a>numpy&#x6570;&#x7EC4;&#x4E92;&#x76F8;&#x7684;&#x8FD0;&#x7B97;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div><div class="line">b = a</div><div class="line">a += np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</div><div class="line"></div><div class="line"><span class="keyword">print</span> a</div><div class="line"><span class="keyword">print</span> b</div><div class="line"><span class="comment">#&#x56E0;&#x4E3A;&#x7528;&#x4E86; +=&#xFF0C;b&#x5DF2;&#x7ECF;&#x7B49;&#x4E8E;a&#x4E86;&#xFF0C; &#x6240;&#x4EE5;b&#x968F;&#x7740;a&#x53D8;</span></div></pre></td></tr></table></figure>
<pre><code>[2 3 4 5]
[2 3 4 5]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">c = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div><div class="line">d = c</div><div class="line">c =  c+ np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</div><div class="line"></div><div class="line"><span class="keyword">print</span> c</div><div class="line"><span class="keyword">print</span> d</div><div class="line"><span class="comment">#&#x7528;&#x6B63;&#x5E38;&#x7684; = + &#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x503C;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;d&#x6570;&#x7EC4;</span></div></pre></td></tr></table></figure>
<pre><code>[2 3 4 5]
[1 2 3 4]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">t = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</div><div class="line">slice = t[:<span class="number">3</span>] <span class="comment">#numpy&#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x6CA1;&#x6709;&#x521B;&#x5EFA;&#x65B0;&#x7684;array&#xFF0C;&#x53EA;&#x662F;&#x63D0;&#x53D6;&#x4E86;&#x524D;&#x4E09;&#x4E2A;&#x503C;&#xFF0C;&#x8FDB;&#x884C;&#x5207;&#x7247;</span></div><div class="line">slice[<span class="number">0</span>] =<span class="number">100</span> <span class="comment">#&#x5207;&#x7247;&#x7684;&#x64CD;&#x4F5C;&#x5176;&#x5B9E;&#x662F;&#x5728;&#x539F;&#x6765;&#x6570;&#x7EC4;&#x4E0A;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x539F;&#x6570;&#x7EC4;&#x4E5F;&#x53D1;&#x751F;&#x4E86;&#x6539;&#x53D8;</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> t</div></pre></td></tr></table></figure>
<pre><code>[100   2   3   4   5   6]
</code></pre><h1 id="&#x5BFC;&#x5165;Pandas&#x5E93;"><a href="#&#x5BFC;&#x5165;Pandas&#x5E93;" class="headerlink" title="&#x5BFC;&#x5165;Pandas&#x5E93;"></a>&#x5BFC;&#x5165;Pandas&#x5E93;</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"></div><div class="line">countries = [<span class="string">&apos;Albania&apos;</span>, <span class="string">&apos;Algeria&apos;</span>, <span class="string">&apos;Andorra&apos;</span>, <span class="string">&apos;Angola&apos;</span>, <span class="string">&apos;Antigua and Barbuda&apos;</span>,</div><div class="line">             <span class="string">&apos;Argentina&apos;</span>, <span class="string">&apos;Armenia&apos;</span>, <span class="string">&apos;Australia&apos;</span>, <span class="string">&apos;Austria&apos;</span>, <span class="string">&apos;Azerbaijan&apos;</span>,</div><div class="line">             <span class="string">&apos;Bahamas&apos;</span>, <span class="string">&apos;Bahrain&apos;</span>, <span class="string">&apos;Bangladesh&apos;</span>, <span class="string">&apos;Barbados&apos;</span>, <span class="string">&apos;Belarus&apos;</span>,</div><div class="line">             <span class="string">&apos;Belgium&apos;</span>, <span class="string">&apos;Belize&apos;</span>, <span class="string">&apos;Benin&apos;</span>, <span class="string">&apos;Bhutan&apos;</span>, <span class="string">&apos;Bolivia&apos;</span>]</div><div class="line"></div><div class="line">life_expectancy_values = [<span class="number">74.7</span>,  <span class="number">75.</span> ,  <span class="number">83.4</span>,  <span class="number">57.6</span>,  <span class="number">74.6</span>,  <span class="number">75.4</span>,  <span class="number">72.3</span>,  <span class="number">81.5</span>,  <span class="number">80.2</span>,</div><div class="line">                          <span class="number">70.3</span>,  <span class="number">72.1</span>,  <span class="number">76.4</span>,  <span class="number">68.1</span>,  <span class="number">75.2</span>,  <span class="number">69.8</span>,  <span class="number">79.4</span>,  <span class="number">70.8</span>,  <span class="number">62.7</span>,</div><div class="line">                          <span class="number">67.3</span>,  <span class="number">70.6</span>]</div><div class="line"></div><div class="line">gdp_values = [ <span class="number">1681.61390973</span>,   <span class="number">2155.48523109</span>,  <span class="number">21495.80508273</span>,    <span class="number">562.98768478</span>,</div><div class="line">              <span class="number">13495.1274663</span> ,   <span class="number">9388.68852258</span>,   <span class="number">1424.19056199</span>,  <span class="number">24765.54890176</span>,</div><div class="line">              <span class="number">27036.48733192</span>,   <span class="number">1945.63754911</span>,  <span class="number">21721.61840978</span>,  <span class="number">13373.21993972</span>,</div><div class="line">                <span class="number">483.97086804</span>,   <span class="number">9783.98417323</span>,   <span class="number">2253.46411147</span>,  <span class="number">25034.66692293</span>,</div><div class="line">               <span class="number">3680.91642923</span>,    <span class="number">366.04496652</span>,   <span class="number">1175.92638695</span>,   <span class="number">1132.21387981</span>]</div><div class="line"></div><div class="line"><span class="comment"># Life expectancy and gdp data in 2007 for 20 countries</span></div><div class="line">life_expectancy = pd.Series(life_expectancy_values)</div><div class="line">gdp = pd.Series(gdp_values)</div><div class="line">life_expectancy_list = pd.Series(life_expectancy_values, index = countries )</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Accessing elements and slicing</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> life_expectancy[<span class="number">0</span>]</div><div class="line">    <span class="keyword">print</span> gdp[<span class="number">3</span>:<span class="number">6</span>] <span class="comment">#&#x6CE8;&#x610F;&#x4E86;pandas&#x6570;&#x7EC4;&#x6392;&#x5217;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#x5E26;&#x7740;index&#x548C;value</span></div></pre></td></tr></table></figure>
<pre><code>74.7
3      562.987685
4    13495.127466
5     9388.688523
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Looping</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">for</span> country_life_expectancy <span class="keyword">in</span> life_expectancy:</div><div class="line">        <span class="keyword">print</span> <span class="string">&apos;Examining life expectancy {}&apos;</span>.format(country_life_expectancy)</div></pre></td></tr></table></figure>
<pre><code>Examining life expectancy 74.7
Examining life expectancy 75.0
Examining life expectancy 83.4
Examining life expectancy 57.6
Examining life expectancy 74.6
Examining life expectancy 75.4
Examining life expectancy 72.3
Examining life expectancy 81.5
Examining life expectancy 80.2
Examining life expectancy 70.3
Examining life expectancy 72.1
Examining life expectancy 76.4
Examining life expectancy 68.1
Examining life expectancy 75.2
Examining life expectancy 69.8
Examining life expectancy 79.4
Examining life expectancy 70.8
Examining life expectancy 62.7
Examining life expectancy 67.3
Examining life expectancy 70.6
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Pandas functions</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">print</span> life_expectancy.mean()</div><div class="line">    <span class="keyword">print</span> life_expectancy.std()</div><div class="line">    <span class="keyword">print</span> gdp.max()</div><div class="line">    <span class="keyword">print</span> gdp.sum()</div></pre></td></tr></table></figure>
<pre><code>72.87
6.21399947487
27036.4873319
182957.59833
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Vectorized operations and index arrays</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    a = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">    b = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>])</div><div class="line"></div><div class="line">    <span class="keyword">print</span> a + b</div><div class="line">    <span class="keyword">print</span> a * <span class="number">2</span></div><div class="line">    <span class="keyword">print</span> a &gt;= <span class="number">3</span></div><div class="line">    <span class="keyword">print</span> a[a &gt;= <span class="number">3</span>]</div></pre></td></tr></table></figure>
<pre><code>0    2
1    4
2    4
3    6
dtype: int64
0    2
1    4
2    6
3    8
dtype: int64
0    False
1    False
2     True
3     True
dtype: bool
2    3
3    4
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">a = pd.Series(life_expectancy_values)</div><div class="line"><span class="keyword">print</span> a[a&gt;a.mean()]</div><div class="line"><span class="keyword">print</span> a.mean()</div><div class="line"><span class="keyword">print</span> <span class="keyword">True</span> + <span class="keyword">True</span> <span class="comment">#&#x4E24;&#x4E2A;true&#x76F8;&#x52A0;&#x7B49;&#x4E8E;2</span></div></pre></td></tr></table></figure>
<pre><code>0     74.7
1     75.0
2     83.4
4     74.6
5     75.4
7     81.5
8     80.2
11    76.4
13    75.2
15    79.4
dtype: float64
72.87
2
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">variable_correlation</span><span class="params">(variable1, variable2)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to calculate the number of data points for which</div><div class="line">    the directions of variable1 and variable2 relative to the mean are the</div><div class="line">    same, and the number of data points for which they are different.</div><div class="line">    Direction here means whether each value is above or below its mean.</div><div class="line"></div><div class="line">    You can classify cases where the value is equal to the mean for one or</div><div class="line">    both variables however you like.</div><div class="line"></div><div class="line">    Each argument will be a Pandas series.</div><div class="line"></div><div class="line">    For example, if the inputs were pd.Series([1, 2, 3, 4]) and</div><div class="line">    pd.Series([4, 5, 6, 7]), then the output would be (4, 0).</div><div class="line">    This is because 1 and 4 are both below their means, 2 and 5 are both</div><div class="line">    below, 3 and 6 are both above, and 4 and 7 are both above.</div><div class="line"></div><div class="line">    On the other hand, if the inputs were pd.Series([1, 2, 3, 4]) and</div><div class="line">    pd.Series([7, 6, 5, 4]), then the output would be (0, 4).</div><div class="line">    This is because 1 is below its mean but 7 is above its mean, and</div><div class="line">    so on.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    both_above = (variable1 &gt; variable1.mean()) &amp; (variable2 &gt; variable2.mean())</div><div class="line">    both_below = (variable1 &lt; variable1.mean()) &amp; (variable2 &lt; variable2.mean())</div><div class="line">    is_same_direction = both_above | both_below</div><div class="line">    num_same_direction = is_same_direction.sum()</div><div class="line">    num_different_direction =len(variable1) - num_same_direction</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (num_same_direction, num_different_direction)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#life_expectancy_list = pd.Series(life_expectancy_values, index = countries )</span></div><div class="line"><span class="keyword">print</span> variable_correlation(life_expectancy, gdp)</div></pre></td></tr></table></figure>
<pre><code>(17, 3)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> pd.Series.argmax(life_expectancy_list)</div></pre></td></tr></table></figure>
<pre><code>Andorra
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"></div><div class="line">countries = [</div><div class="line">    <span class="string">&apos;Afghanistan&apos;</span>, <span class="string">&apos;Albania&apos;</span>, <span class="string">&apos;Algeria&apos;</span>, <span class="string">&apos;Angola&apos;</span>, <span class="string">&apos;Argentina&apos;</span>,</div><div class="line">    <span class="string">&apos;Armenia&apos;</span>, <span class="string">&apos;Australia&apos;</span>, <span class="string">&apos;Austria&apos;</span>, <span class="string">&apos;Azerbaijan&apos;</span>, <span class="string">&apos;Bahamas&apos;</span>,</div><div class="line">    <span class="string">&apos;Bahrain&apos;</span>, <span class="string">&apos;Bangladesh&apos;</span>, <span class="string">&apos;Barbados&apos;</span>, <span class="string">&apos;Belarus&apos;</span>, <span class="string">&apos;Belgium&apos;</span>,</div><div class="line">    <span class="string">&apos;Belize&apos;</span>, <span class="string">&apos;Benin&apos;</span>, <span class="string">&apos;Bhutan&apos;</span>, <span class="string">&apos;Bolivia&apos;</span>,</div><div class="line">    <span class="string">&apos;Bosnia and Herzegovina&apos;</span></div><div class="line">]</div><div class="line"></div><div class="line"></div><div class="line">employment_values = [</div><div class="line">    <span class="number">55.70000076</span>,  <span class="number">51.40000153</span>,  <span class="number">50.5</span>       ,  <span class="number">75.69999695</span>,</div><div class="line">    <span class="number">58.40000153</span>,  <span class="number">40.09999847</span>,  <span class="number">61.5</span>       ,  <span class="number">57.09999847</span>,</div><div class="line">    <span class="number">60.90000153</span>,  <span class="number">66.59999847</span>,  <span class="number">60.40000153</span>,  <span class="number">68.09999847</span>,</div><div class="line">    <span class="number">66.90000153</span>,  <span class="number">53.40000153</span>,  <span class="number">48.59999847</span>,  <span class="number">56.79999924</span>,</div><div class="line">    <span class="number">71.59999847</span>,  <span class="number">58.40000153</span>,  <span class="number">70.40000153</span>,  <span class="number">41.20000076</span></div><div class="line">]</div><div class="line"></div><div class="line"><span class="comment"># Employment data in 2007 for 20 countries</span></div><div class="line">employment = pd.Series(employment_values, index=countries)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_employment</span><span class="params">(employment)</span>:</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to return the name of the country</div><div class="line">    with the highest employment in the given employment</div><div class="line">    data, and the employment in that country.</div><div class="line"></div><div class="line">    The input will be a Pandas series where the values</div><div class="line">    are employment and the index is country names.</div><div class="line"></div><div class="line">    Try using the Pandas argmax() function. Documention is</div><div class="line">    here: http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.argmax.html</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    max_country = employment.argmax()    </div><div class="line">    max_value = employment.loc[max_country]  <span class="comment">#&#x5B9A;&#x4F4D;&#x7528;loc</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> (max_country, max_value)</div><div class="line"></div><div class="line"><span class="keyword">print</span> max_employment(employment)</div></pre></td></tr></table></figure>
<pre><code>(&apos;Angola&apos;, 75.699996949999999)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line">s2 = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line"><span class="keyword">print</span> s1 + s2</div></pre></td></tr></table></figure>
<pre><code>a    11
b    22
c    33
d    44
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line">s2 = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>], index=[<span class="string">&apos;b&apos;</span>, <span class="string">&apos;d&apos;</span>, <span class="string">&apos;a&apos;</span>, <span class="string">&apos;c&apos;</span>])</div><div class="line"><span class="keyword">print</span> s1 + s2</div></pre></td></tr></table></figure>
<pre><code>a    31
b    12
c    43
d    24
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line">s2 = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>], index=[<span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>, <span class="string">&apos;e&apos;</span>, <span class="string">&apos;f&apos;</span>])</div><div class="line">sum_result = s1 + s2</div><div class="line"><span class="keyword">print</span> s1 + s2</div></pre></td></tr></table></figure>
<pre><code>a     NaN
b     NaN
c    13.0
d    24.0
e     NaN
f     NaN
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> sum_result.dropna() <span class="comment">#&#x53BB;&#x9664;&#x65E0;&#x6548;&#x9879;</span></div></pre></td></tr></table></figure>
<pre><code>c    13.0
d    24.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line">s2 = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>], index=[<span class="string">&apos;e&apos;</span>, <span class="string">&apos;f&apos;</span>, <span class="string">&apos;g&apos;</span>, <span class="string">&apos;h&apos;</span>])</div><div class="line">sum_result = s1 + s2</div><div class="line"><span class="keyword">print</span> sum_result <span class="comment">#index&#x5BF9;&#x4E0D;&#x4E0A;</span></div></pre></td></tr></table></figure>
<pre><code>a   NaN
b   NaN
c   NaN
d   NaN
e   NaN
f   NaN
g   NaN
h   NaN
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> sum_result.dropna()</div></pre></td></tr></table></figure>
<pre><code>Series([], dtype: float64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"></div><div class="line">s1 = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>])</div><div class="line">s2 = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>], index=[<span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>, <span class="string">&apos;e&apos;</span>, <span class="string">&apos;f&apos;</span>])</div><div class="line"></div><div class="line"><span class="keyword">print</span> s1.add(s2, fill_value=<span class="number">0</span>) <span class="comment">#&#x65E0;&#x6548;&#x9879;&#x76EE;&#x6807;&#x53D8;&#x6210;0</span></div><div class="line"></div><div class="line"><span class="comment"># Try to write code that will add the 2 previous series together,</span></div><div class="line"><span class="comment"># but treating missing values from either series as 0. The result</span></div><div class="line"><span class="comment"># when printed out should be similar to the following line:</span></div><div class="line"><span class="comment"># print pd.Series([1, 2, 13, 24, 30, 40], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;])</span></div></pre></td></tr></table></figure>
<pre><code>a     NaN
b     NaN
c    13.0
d    24.0
e     NaN
f     NaN
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Example pandas apply() usage (although this could have been done</span></div><div class="line"><span class="comment"># without apply() using vectorized operations)</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">True</span>:</div><div class="line">    s = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_one</span><span class="params">(x)</span>:</span></div><div class="line">        <span class="keyword">return</span> x + <span class="number">1</span></div><div class="line">    <span class="keyword">print</span> s.apply(add_one)</div></pre></td></tr></table></figure>
<pre><code>0    2
1    3
2    4
3    5
4    6
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Change False to True to see what the following block of code does</span></div><div class="line">names = pd.Series([</div><div class="line">    <span class="string">&apos;Andre Agassi&apos;</span>,</div><div class="line">    <span class="string">&apos;Barry Bonds&apos;</span>,</div><div class="line">    <span class="string">&apos;Christopher Columbus&apos;</span>,</div><div class="line">    <span class="string">&apos;Daniel Defoe&apos;</span>,</div><div class="line">    <span class="string">&apos;Emilio Estevez&apos;</span>,</div><div class="line">    <span class="string">&apos;Fred Flintstone&apos;</span>,</div><div class="line">    <span class="string">&apos;Greta Garbo&apos;</span>,</div><div class="line">    <span class="string">&apos;Humbert Humbert&apos;</span>,</div><div class="line">    <span class="string">&apos;Ivan Ilych&apos;</span>,</div><div class="line">    <span class="string">&apos;James Joyce&apos;</span>,</div><div class="line">    <span class="string">&apos;Keira Knightley&apos;</span>,</div><div class="line">    <span class="string">&apos;Lois Lane&apos;</span>,</div><div class="line">    <span class="string">&apos;Mike Myers&apos;</span>,</div><div class="line">    <span class="string">&apos;Nick Nolte&apos;</span>,</div><div class="line">    <span class="string">&apos;Ozzy Osbourne&apos;</span>,</div><div class="line">    <span class="string">&apos;Pablo Picasso&apos;</span>,</div><div class="line">    <span class="string">&apos;Quirinus Quirrell&apos;</span>,</div><div class="line">    <span class="string">&apos;Rachael Ray&apos;</span>,</div><div class="line">    <span class="string">&apos;Susan Sarandon&apos;</span>,</div><div class="line">    <span class="string">&apos;Tina Turner&apos;</span>,</div><div class="line">    <span class="string">&apos;Ugueth Urbina&apos;</span>,</div><div class="line">    <span class="string">&apos;Vince Vaughn&apos;</span>,</div><div class="line">    <span class="string">&apos;Woodrow Wilson&apos;</span>,</div><div class="line">    <span class="string">&apos;Yoji Yamada&apos;</span>,</div><div class="line">    <span class="string">&apos;Zinedine Zidane&apos;</span></div><div class="line">])</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse_name</span><span class="params">(name)</span>:</span> <span class="comment">#&#x5148;&#x5BF9;&#x5355;&#x4E2A;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x51FA;&#x6765;</span></div><div class="line">    new = name.split()</div><div class="line">    <span class="keyword">return</span> new[<span class="number">1</span>]+ <span class="string">&quot;, &quot;</span> + new[<span class="number">0</span>]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse_names</span><span class="params">(names)</span>:</span> <span class="comment">#&#x5F53;&#x8F93;&#x5165;&#x4E00;&#x7EC4;&#x6570;&#x5217;&#x7684;&#x65F6;&#x5019;</span></div><div class="line">    <span class="string">&apos;&apos;&apos;</span></div><div class="line">    Fill in this function to return a new series where each name</div><div class="line">    in the input series has been transformed from the format</div><div class="line">    &quot;Firstname Lastname&quot; to &quot;Lastname, FirstName&quot;.</div><div class="line"></div><div class="line">    Try to use the Pandas apply() function rather than a loop.</div><div class="line">    &apos;&apos;&apos;</div><div class="line">    <span class="keyword">return</span> names.apply(reverse_name) <span class="comment">#apply&#x5230;&#x6BCF;&#x4E2A;&#x5355;&#x9879;</span></div><div class="line"></div><div class="line"><span class="keyword">print</span>  reverse_names(names)</div></pre></td></tr></table></figure>
<pre><code>0             Agassi, Andre
1              Bonds, Barry
2     Columbus, Christopher
3             Defoe, Daniel
4           Estevez, Emilio
5          Flintstone, Fred
6              Garbo, Greta
7          Humbert, Humbert
8               Ilych, Ivan
9              Joyce, James
10         Knightley, Keira
11               Lane, Lois
12              Myers, Mike
13              Nolte, Nick
14           Osbourne, Ozzy
15           Picasso, Pablo
16       Quirrell, Quirinus
17             Ray, Rachael
18          Sarandon, Susan
19             Turner, Tina
20           Urbina, Ugueth
21            Vaughn, Vince
22          Wilson, Woodrow
23             Yamada, Yoji
24         Zidane, Zinedine
dtype: object
</code></pre><p>&#x5728; Pandas &#x4E2D;&#x7ED8;&#x56FE;<br>&#x5982;&#x679C;&#x53D8;&#x91CF; data &#x662F;&#x4E00;&#x4E2A; NumPy &#x6570;&#x7EC4;&#x6216; Pandas Series&#xFF0C;&#x5C31;&#x50CF;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x4E00;&#x6837;&#xFF0C;&#x4EE3;&#x7801;&#x5C06;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x7684;&#x76F4;&#x65B9;&#x56FE;&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import matplotlib.pyplot as plt</div><div class="line">plt.hist(data)</div></pre></td></tr></table></figure></p>
<p>Pandas &#x8FD8;&#x6709;&#x5728;&#x540E;&#x53F0;&#x4F7F;&#x7528; matplotlib &#x7684;&#x5185;&#x7F6E;&#x7ED8;&#x56FE;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C; data &#x662F;&#x4E00;&#x4E2A; Series&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; data.hist() &#x521B;&#x5EFA;&#x76F4;&#x65B9;&#x56FE;&#x3002;</p>
<p>&#x5728;&#x6B64;&#x60C5;&#x5F62;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E24;&#x8005;&#x6CA1;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x5019; Pandas &#x5C01;&#x88C5;&#x5668;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; data.plot() &#x521B;&#x5EFA; Series &#x7684;&#x7EBF;&#x6761;&#x56FE;&#x3002;Series &#x7D22;&#x5F15;&#x88AB;&#x7528;&#x4E8E; x &#x8F74;&#xFF0C;&#x503C;&#x88AB;&#x7528;&#x4E8E; y &#x8F74;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5728;notebook&#x4E2D;&#x8981;&#x8BB0;&#x5F97;&#x52A0;&#x4E0A; %pylab inline&#xFF0C;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line">%pylab inline</div><div class="line">s = pd.Series([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>])</div><div class="line"><span class="keyword">print</span> s.hist()</div></pre></td></tr></table></figure>
<pre><code>Populating the interactive namespace from numpy and matplotlib
Axes(0.125,0.125;0.775x0.775)
</code></pre><p><img src="/2017/01/15/Numpy-and-pandas-for-1D-data/output_53_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> s.plot()</div></pre></td></tr></table></figure>
<pre><code>Axes(0.125,0.125;0.775x0.775)
</code></pre><p><img src="/2017/01/15/Numpy-and-pandas-for-1D-data/output_54_1.png" alt="png"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/14/onequerynottwo/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/14/onequerynottwo/" itemprop="url">
                  Set the query as a table
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-14T11:37:19+00:00">
                2017-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/14/onequerynottwo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/14/onequerynottwo/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># Find the players whose weight is less than the average.</div><div class="line">#</div><div class="line"># The function below performs two database queries in order to find the right players.</div><div class="line"># Refactor this code so that it performs only one query.</div><div class="line"></div><div class="line">def lightweights(cursor):</div><div class="line">    &quot;&quot;&quot;Returns a list of the players in the db whose weight is less than the average.&quot;&quot;&quot;</div><div class="line">    cursor.execute(&quot;select avg(weight) as av from players;&quot;)</div><div class="line">    av = cursor.fetchall()[0][0]  # first column of first (and only) row</div><div class="line">    cursor.execute(&quot;select name, weight from players where weight &lt; &quot; + str(av))</div><div class="line">    return cursor.fetchall()</div><div class="line"></div><div class="line"></div><div class="line">right answer:</div><div class="line"></div><div class="line">select name, weight</div><div class="line">from players, (select avg(weight) as av from players) as subq</div><div class="line">where weight &lt; av;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/14/leftjoin/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/14/leftjoin/" itemprop="url">
                  Left and right join
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-14T10:40:32+00:00">
                2017-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/14/leftjoin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/14/leftjoin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SQL supports a number of variations on the theme of joins. The kind of join that you have seen earlier in this course is called an inner join, and it is the most common kind of join &#x2014; so common that SQL doesn&#x2019;t actually make us say &#x201C;inner join&#x201D; to do one.</p>
<p>But the second most common is the left join, and its mirror-image partner, the right join. The words &#x201C;left&#x201D; and &#x201C;right&#x201D; refer to the tables to the left and right of the join operator. (Above, the left table is products and the right table is sales.)</p>
<p>A regular (inner) join returns only those rows where the two tables have entries matching the join condition. A left join returns all those rows, plus the rows where the left table has an entry but the right table doesn&#x2019;t. And a right join does the same but for the right table.</p>
<p>(Just as &#x201C;join&#x201D; is short for &#x201C;inner join&#x201D;, so too is &#x201C;left join&#x201D; actually short for &#x201C;left outer join&#x201D;. But SQL lets us just say &#x201C;left join&#x201D;, which is a lot less typing. So we&#x2019;ll do that.)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/13/titanic-report/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/13/titanic-report/" itemprop="url">
                  Titanic Analysis report
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-13T23:55:36+00:00">
                2017-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DataAnalysisReport/" itemprop="url" rel="index">
                    <span itemprop="name">DataAnalysisReport</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/13/titanic-report/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/13/titanic-report/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This is one of projects of Udacity courses.</p>
<h1 id="Titanic-Data-analysis-Report"><a href="#Titanic-Data-analysis-Report" class="headerlink" title="Titanic Data analysis Report"></a>Titanic Data analysis Report</h1><h2 id="The-aim-of-the-analysis"><a href="#The-aim-of-the-analysis" class="headerlink" title="The aim of the analysis"></a>The aim of the analysis</h2><p>Use NumPy and Pandas to analyze the Titanic data to find the relationship between multiple variables.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</div><div class="line">%pylab inline</div><div class="line"></div><div class="line">titanic_df = pd.read_csv(<span class="string">&apos;titanic-data.csv&apos;</span>)</div></pre></td></tr></table></figure>
<h2 id="Raise-questions"><a href="#Raise-questions" class="headerlink" title="Raise questions"></a>Raise questions</h2><p>Thus Titanic is a well-known tragedy, so the mortality rate is an important measurement of the severity. In other word, the survived rate should be analyzed in detail. My major question is &#x201C;What factors can influence the survival rate and how to influence?&#x201D;</p>
<p>In the case, the raw data uses 1 or 0 to represent the survived condition, so the mean of &#x201C;Survived&#x201D; column is actually the survival rate. It makes analysis a little succinct.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/01/13/titanic-report/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/13/twogithubonsamepc/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/13/twogithubonsamepc/" itemprop="url">
                  Use two different github accounts on the PC
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-13T20:37:52+00:00">
                2017-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Github/" itemprop="url" rel="index">
                    <span itemprop="name">Github</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/13/twogithubonsamepc/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/13/twogithubonsamepc/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>I wanted to set up another HEXO blog for recording my notes on data science learning. While, when I tried to git the blog to my initial github, it lacks CSS and other elements and I didn&#x2019;t find the reason. So, I thought it was a easy way to build blog on another github account. But due to the key problem, I must set up another key for my computer.</p>
<h2 id="set-up-another-key-for-my-new-github-account"><a href="#set-up-another-key-for-my-new-github-account" class="headerlink" title="set up another key for my new github account"></a>set up another key for my new github account</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C &quot;your-email-address&quot;</div></pre></td></tr></table></figure>
<p>When see such img, DON&#x2019;T press the enter or name the <code>id_rsa</code>, it will cover your first key, just name it like, <code>id_rsa_2</code></p>
<p><img src="/2017/01/13/twogithubonsamepc/1.png" alt="new name"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/01/13/twogithubonsamepc/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://clarkdatascience.github.io/2017/01/13/20123/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="ClarkYu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Notes on Data Science">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Notes on Data Science" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/13/20123/" itemprop="url">
                  Use <>!= in SQL self join
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-13T17:44:51+00:00">
                2017-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/01/13/20123/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/13/20123/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In this quiz, we try to find who lives in the same dorm, and the query almost works.<br><img src="/2017/01/13/20123/1.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">select a.id, b.id, a.building, a.room</div><div class="line">       from residences as a, residences as b</div><div class="line"> where a.building = b.building</div><div class="line">   and a.room = b.room and a.id &lt; b.id</div><div class="line"> group by a.room;</div><div class="line"></div><div class="line"> output:</div><div class="line"> +--------+--------+----------+------+</div><div class="line"> |     id |     id | building | room |</div><div class="line"> +========+========+==========+======+</div><div class="line"> | 881256 | 413001 |   Crosby |   10 |</div><div class="line"> | 741532 | 496747 |   Crosby |   19 |</div><div class="line"> | 931027 | 612413 |   Crosby |   31 |</div><div class="line"> | 958827 | 170267 | Dolliver |    1 |</div><div class="line"> | 707536 | 104131 | Dolliver |   14 |</div><div class="line"> | 505241 | 477801 | Dolliver |    8 |</div><div class="line"> | 824292 | 118199 | Kendrick |   1A |</div><div class="line"> | 231742 | 105540 | Kendrick |   3B |</div><div class="line"> +--------+--------+----------+------+</div></pre></td></tr></table></figure>
<p>There, we use &lt;(or &gt;), <code>and a.room = b.room and a.id &lt; b.id</code> to make sure the situation that one person only appear once in either column1 or column2, they cannot be their own roommate. If we not add this judgment, the result will be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">select a.id, b.id, a.building, a.room</div><div class="line">       from residences as a, residences as b</div><div class="line"> where a.building = b.building</div><div class="line">   and a.room = b.room</div><div class="line"> group by a.room;</div><div class="line"></div><div class="line"> output:</div><div class="line">+--------+--------+----------+------+</div><div class="line">|     id |     id | building | room |</div><div class="line">+========+========+==========+======+</div><div class="line">| 958827 | 958827 | Dolliver |    1 |  &lt;-- this person is their own roommate?!</div><div class="line">| 881256 | 881256 |   Crosby |   10 |  &lt;-- this person is their own roommate?!</div><div class="line">| 707536 | 707536 | Dolliver |   14 |  &lt;-- this person is their own roommate?!</div><div class="line">| 741532 | 741532 |   Crosby |   19 |  &lt;-- this person is their own roommate?!</div><div class="line">| 824292 | 824292 | Kendrick |   1A |  &lt;-- this person is their own roommate?!</div><div class="line">| 410315 | 410315 |   Crosby |   20 |  &lt;-- this person is their own roommate?!</div><div class="line">| 498446 | 498446 |   Crosby |   21 |  &lt;-- this person is their own roommate?!</div><div class="line">| 851866 | 851866 |   Crosby |   22 |  &lt;-- this person is their own roommate?!</div><div class="line">| 250841 | 250841 | Kendrick |   2B |  &lt;-- this person is their own roommate?!</div><div class="line">| 931027 | 931027 |   Crosby |   31 |  &lt;-- this person is their own roommate?!</div><div class="line">| 231742 | 231742 | Kendrick |   3B |  &lt;-- this person is their own roommate?!</div><div class="line">| 161282 | 161282 | Dolliver |    7 |  &lt;-- this person is their own roommate?!</div><div class="line">| 505241 | 505241 | Dolliver |    8 |  &lt;-- this person is their own roommate?!</div><div class="line">| 762907 | 762907 | Dolliver |    9 |  &lt;-- this person is their own roommate?!</div><div class="line">+--------+--------+----------+------+</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  

          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="ClarkYu" />
          <p class="site-author-name" itemprop="name">ClarkYu</p>
          <p class="site-description motion-element" itemprop="description">Keep thinking and writing!</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/clarkyu2016" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/chijingclark" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-paper-plane"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ClarkYu</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'clarkyu';
      var disqus_identifier = 'index.html';

      var disqus_title = "";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      

    </script>
  









  
  

  

  

  

  


</body>
</html>
